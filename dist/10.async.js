(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"3DpD":function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var r=l(a("/wGt")),i=l(a("pVnL"));a("IzEo");var d=l(a("bx4M"));a("14J3");var u=l(a("BMrR"));a("+L6B");var o=l(a("2/Rp"));a("jCWc");var s=l(a("kPKH")),c=l(a("o0o1")),f=l(a("yXPU"));a("2qtc");var p=l(a("kLXV")),m=l(a("MVZn"));a("miYZ");var h=l(a("tsqr")),v=l(a("lwsE")),y=l(a("W8MJ")),g=l(a("a1gu")),b=l(a("Nsbk")),E=l(a("7W2i"));a("OaEy");var C=l(a("2fM7"));a("y8nQ");var w,k,T,D=l(a("Vl3Y")),V=n(a("q1tI")),S=a("MuoO"),x=l(a("CkN6")),I=l(a("zHco")),L=l(a("V6iT")),O=l(a("J6SF")),M=l(a("hORE")),N=l(a("T4BW")),F=l(a("3gbU")),R=D.default.Item,P=C.default.Option,q={COUPON:"\u5361\u5238\u6d3b\u52a8",PROMOTION:"\u4fc3\u9500\u6d3b\u52a8",ENROLL:"\u62a5\u540d\u6d3b\u52a8"},U={NOTSTART:"\u672a\u5f00\u59cb",START:"\u5df2\u5f00\u59cb",END:"\u5df2\u7ed3\u675f"},A={UNUSED:"\u5f85\u4f7f\u7528",USED:"\u5df2\u4f7f\u7528",EXPIRED:"\u5df2\u8fc7\u671f"},z=(w=(0,S.connect)(function(e){var t=e.activity,a=e.loading;return{activity:t,loading:a.models.activity}}),k=D.default.create(),w(T=k(T=function(e){function t(){var e,a;(0,v.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,g.default)(this,(e=(0,b.default)(t)).call.apply(e,[this].concat(n))),a.state={modalVisible:!1,formValues:{},fileList:[],modalType:"create",previewImage:"",previewVisible:!1,userTableVisible:!1,currentId:"",activityType:"",marketingType:"",cardModalVisible:!1},a.columns=[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u5206\u7c7b",dataIndex:"activityType",render:function(e){return q[e]}},{title:"\u6d3b\u52a8\u72b6\u6001",dataIndex:"activityState",render:function(e){return U[e]}},{title:"\u7c7b\u578b",dataIndex:"marketingType",render:function(e){return"MARKET"===e?"\u5546\u573a\u6d3b\u52a8":"\u5546\u6237\u6d3b\u52a8"}},{title:"\u6d3b\u52a8\u5730\u5740",dataIndex:"address",width:120},{title:"\u5151\u6362\u6b21\u6570",dataIndex:"exchangeCount",render:function(e){return e||"\u2014\u2014"}},{title:"\u5355\u7528\u6237\u9650\u9886",dataIndex:"limitUserCount",render:function(e){return e||"\u2014\u2014"}},{title:"\u5361\u5238\u603b\u5e93\u5b58",dataIndex:"totalStock",render:function(e){return e||"\u2014\u2014"}},{title:"\u5361\u5238\u5f53\u524d\u5e93\u5b58",dataIndex:"stock",render:function(e){return e||"\u2014\u2014"}},{title:"\u5361\u5238\u6709\u6548\u671f",render:function(e,t){return t.validEndDate?"".concat(t.validStartDate,"\u81f3").concat(t.validEndDate):"\u2014\u2014"}},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startDate"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endDate"},{title:"\u64cd\u4f5c",fixed:"right",width:100,render:function(e,t){return V.default.createElement(L.default,{onMenuClick:function(e){return a.handleMenuClick(t,e)},menuOptions:[{key:"1",name:"\u7f16\u8f91"},{key:"2",name:"\u5220\u9664"},{key:"3",name:"\u62a5\u540d\u5217\u8868"},{key:"4",name:"\u5361\u5238"}]})}}],a.handleMenuClick=function(e,t){if("1"===t.key&&a.handleGetDetail(e),"2"===t.key&&a.handleDelete(e),"3"===t.key&&a.handleCheckApply(e),"4"===t.key){if("COUPON"!==e.activityType)return void h.default.error("\u6240\u9009\u6d3b\u52a8\u4e0d\u662f\u5361\u5238\u7c7b\u6d3b\u52a8!");a.setState({currentId:e.id},function(){a.getCardList()})}},a.handleStandardTableChange=function(e){var t=a.props.dispatch,l=a.state.formValues,n=(0,m.default)({page:e.current,pageSize:e.pageSize},l);t({type:"activity/fetch",payload:n})},a.handleDelete=function(e){var t=p.default.confirm,l=a.props.dispatch;t({title:"\u786e\u5b9a\u8981\u5220\u9664\u6d3b\u52a8 '".concat(e.title,"' \u5417?"),onOk:function(){var t=(0,f.default)(c.default.mark(function t(){return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l({type:"activity/remove",payload:{id:e.id}});case 2:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()})},a.typeChange=function(e){a.setState({activityType:e})},a.marketingTypeChange=function(e){a.setState({marketingType:e})},a.getCardList=function(){var e=a.state.currentId,t=a.props.dispatch;t({type:"activity/fetchCardList",payload:{marketingId:e}}),a.setState({cardModalVisible:!0})},a.handleFormReset=function(){var e=a.props,t=e.form,l=e.dispatch;t.resetFields(),a.setState({formValues:{}}),l({type:"activity/fetch",payload:{}})},a.handleSearch=function(e){e.preventDefault();var t=a.props,l=t.dispatch,n=t.form;n.validateFields(function(e,t){if(!e){var n=(0,m.default)({},t,{updatedAt:t.updatedAt&&t.updatedAt.valueOf()});a.setState({formValues:n}),l({type:"activity/fetch",payload:n})}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e}),e||a.setState({fileList:[]})},a.handleCreate=function(){a.setState({modalType:"create"},function(){a.handleModalVisible(!0)})},a.handleGetDetail=function(){var e=(0,f.default)(c.default.mark(function e(t){var l;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=a.props.dispatch,e.next=3,l({type:"activity/queryDetail",payload:{id:t.id}});case 3:a.setState({modalType:"update",currentId:t.id},function(){a.handleModalVisible(!0)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleAdd=function(e){var t=a.props.dispatch;t({type:"activity/add",payload:(0,m.default)({},e),callback:function(){h.default.success("\u6dfb\u52a0\u6210\u529f")}}),a.handleModalVisible()},a.handleUpdate=function(e){var t=a.props.dispatch,l=a.state.currentId;t({type:"activity/update",payload:(0,m.default)({},e,{id:l}),callback:function(){h.default.success("\u4fee\u6539\u6210\u529f")}}),a.handleModalVisible()},a.handleCheckApply=function(e){var t=a.props.dispatch;a.setState({currentItem:e,userTableVisible:!0},function(){t({type:"activity/fetchApplyList",payload:{marketingId:e.id}})})},a.mapUserTableProps=function(){var e=a.state.currentItem,t=a.props,l=t.dispatch,n=t.activity,r=n.userData,i=n.loading,d={data:r,loading:i,currentItem:e,handleStandardTableChange:function(t){var a={page:t.current,pageSize:t.pageSize};l({type:"activity/fetchApplyList",payload:(0,m.default)({},a,{marketingId:e.id})})}};return d},a.mapCardTableProps=function(){var e=a.state.currentId,t=a.props,l=t.dispatch,n=t.activity.cardData,r=t.loading,i={data:n,loading:r,onChange:function(t){var a={page:t.current,pageSize:t.pageSize};l({type:"activity/fetchApplyList",payload:(0,m.default)({},a,{marketingId:e})})},useCoupon:function(e){if("UNUSED"===e.codeStatus){var t=p.default.confirm;t({title:"\u8bf7\u4ed4\u7ec6\u6838\u5bf9\u5361\u5238\u4fe1\u606f",content:V.default.createElement(V.Fragment,null,V.default.createElement("div",null,"\u5238\u7801\uff1a",e.code),V.default.createElement("div",null,"\u9886\u53d6\u4eba\uff1a",e.userNickname||"\u2014\u2014"),V.default.createElement("div",null,"\u5361\u5238\u72b6\u6001\uff1a",A[e.codeStatus]),V.default.createElement("div",null,"\u5361\u5238\u6709\u6548\u671f\uff1a","".concat(e.validStartDate,"\u81f3").concat(e.validEndDate))),onOk:function(){var t=(0,f.default)(c.default.mark(function t(){return c.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l({type:"activity/updateCoupon",payload:{code:e.code}});case 2:a.getCardList();case 3:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()})}else h.default.error("\u53ea\u6709\u672a\u4f7f\u7528\u7684\u5361\u5238\u624d\u80fd\u6838\u9500\uff01")}};return i},a}return(0,E.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"activity/fetch"})}},{key:"componentWillReceiveProps",value:function(e){var t=e.activity.activityDetail,a=this.state.fileList;0===a.length&&t.img&&this.setState({fileList:[{uid:"-1",status:"done",name:t.img,url:t.img,response:{result:[t.img]}}],marketingType:t.marketingType,activityType:t.activityType})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator;return V.default.createElement(D.default,{onSubmit:this.handleSearch,layout:"inline"},V.default.createElement(u.default,{gutter:{md:8,lg:24,xl:48}},V.default.createElement(s.default,{md:8,sm:24},V.default.createElement(R,{label:"\u6d3b\u52a8\u7c7b\u578b"},e("marketingType")(V.default.createElement(C.default,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},V.default.createElement(P,{value:"MARKET"},"\u5546\u573a\u6d3b\u52a8"),V.default.createElement(P,{value:"MERCHANT"},"\u5546\u6237\u6d3b\u52a8"))))),V.default.createElement(s.default,{md:8,sm:24},V.default.createElement("span",{className:F.default.submitButtons},V.default.createElement(o.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),V.default.createElement(o.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.activity,l=a.data,n=a.activityDetail,u=t.loading,s=this.state,c=s.modalVisible,f=s.modalType,m=s.userTableVisible,h=s.cardModalVisible,v=s.fileList,y=s.previewImage,g=s.previewVisible,b=s.activityType,E=s.marketingType,C={handleAdd:this.handleAdd,handleModalVisible:this.handleModalVisible,fileList:v,modalType:f,activityType:b,marketingType:E,marketingTypeChange:this.marketingTypeChange,typeChange:this.typeChange,activityDetail:"update"===f?n:{},previewImage:y,previewVisible:g,handleUpdate:this.handleUpdate,handlePreview:function(t){e.setState({previewImage:t.url||t.thumbUrl,previewVisible:!0})},handleCancel:function(){return e.setState({previewVisible:!1})},uploadFile:function(t){return e.setState({fileList:t})}};return V.default.createElement(I.default,{title:"\u6d3b\u52a8\u5217\u8868"},V.default.createElement(d.default,{bordered:!1},V.default.createElement("div",{className:F.default.tableList},V.default.createElement("div",{className:F.default.tableListForm},this.renderSimpleForm()),V.default.createElement("div",{className:F.default.tableListOperator},V.default.createElement(o.default,{icon:"plus",type:"primary",onClick:this.handleCreate},"\u65b0\u5efa")),V.default.createElement(x.default,{loading:u,rowKey:function(e){return e.id},data:l,columns:this.columns,onChange:this.handleStandardTableChange,scroll:{x:1500}}))),V.default.createElement(O.default,(0,i.default)({},C,{modalVisible:c})),V.default.createElement(r.default,{visible:m,title:"\u7528\u6237\u62a5\u540d\u8868",width:"50%",onClose:function(){return e.setState({userTableVisible:!1})}},V.default.createElement(M.default,this.mapUserTableProps())),V.default.createElement(p.default,{title:"\u5361\u5238",visible:h,onCancel:function(){return e.setState({cardModalVisible:!1})},footer:null,width:"70%"},V.default.createElement(N.default,this.mapCardTableProps())))}}]),t}(V.PureComponent))||T)||T),B=z;t.default=B},"3gbU":function(e,t,a){e.exports={tableList:"antd-pro-pages-activity-index-tableList",tableListOperator:"antd-pro-pages-activity-index-tableListOperator",tableListForm:"antd-pro-pages-activity-index-tableListForm",submitButtons:"antd-pro-pages-activity-index-submitButtons"}},"8+yx":function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("IzEo");var i=l(a("bx4M"));a("14J3");var d=l(a("BMrR"));a("+L6B");var u=l(a("2/Rp"));a("jCWc");var o=l(a("kPKH")),s=l(a("MVZn")),c=l(a("lwsE")),f=l(a("W8MJ")),p=l(a("a1gu")),m=l(a("Nsbk")),h=l(a("7W2i"));a("OaEy");var v=l(a("2fM7"));a("y8nQ");var y,g,b,E=l(a("Vl3Y")),C=n(a("q1tI")),w=a("MuoO"),k=l(a("CkN6")),T=l(a("UFQ5")),D=E.default.Item,V=v.default.Option,S=(y=(0,w.connect)(function(e){var t=e.shop,a=e.floor,l=e.loading;return{shop:t,floor:a,loading:l.models.shop}}),g=E.default.create(),y(b=g(b=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.state={formValues:{},modalVisible:!1,selectedRows:[]},a.columns=[{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u5206\u7c7b",dataIndex:"shopCategoryName"},{title:"\u697c\u5c42",dataIndex:"floorName"}],a.getFormValue=function(){var e=a.props.dispatch;e({type:"shop/fetchCategory"}),e({type:"floor/fetchFloor"})},a.getList=function(e){var t=a.props.dispatch;t({type:"shop/fetch",payload:(0,s.default)({},e)})},a.onSelectRow=function(e){a.setState({selectedRows:e})},a.handleStandardTableChange=function(e){var t=a.state.formValues,l=(0,s.default)({page:e.current,pageSize:e.pageSize},t);a.getList(l)},a.handleFormReset=function(){var e=a.props.form;e.resetFields(),a.setState({formValues:{}}),a.getList({})},a.handleSearch=function(e){e.preventDefault();var t=a.props.form;t.validateFields(function(e,t){if(!e){var l=(0,s.default)({},t,{updatedAt:t.updatedAt&&t.updatedAt.valueOf()});a.setState({formValues:l}),a.getList(l)}})},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleOk=function(){var e=a.state.selectedRows,t=a.props.onChange;t(e),a.handleModalVisible()},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.getList({}),this.getFormValue()}},{key:"renderSimpleForm",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.shop.categoryList,l=e.floor.floorList;return C.default.createElement(E.default,{onSubmit:this.handleSearch,layout:"inline"},C.default.createElement(d.default,{gutter:{md:8,lg:24,xl:48}},C.default.createElement(o.default,{md:8,sm:24},C.default.createElement(D,{label:"\u5e97\u94fa\u5206\u7c7b"},t("shopCategoryId")(C.default.createElement(v.default,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"150px"}},a.map(function(e){return C.default.createElement(V,{key:e.id,value:e.id},e.name)}))))),C.default.createElement(o.default,{md:8,sm:24},C.default.createElement(D,{label:"\u5e97\u94fa\u697c\u5c42"},t("floorId")(C.default.createElement(v.default,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"150px"}},l.map(function(e){return C.default.createElement(V,{key:e.id,value:e.id},e.name)}))))),C.default.createElement(o.default,{md:8,sm:24},C.default.createElement("span",{className:T.default.submitButtons},C.default.createElement(u.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),C.default.createElement(u.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this,t=this.state.modalVisible,a=this.props,l=a.shop.data,n=a.loading,d=a.value;return C.default.createElement("div",null,C.default.createElement("div",{onClick:function(){return e.handleModalVisible(!0)},style:{width:"150px",height:"32px",borderRadius:"4px",lineHeight:"32px",border:"1px solid #d9d9d9",textAlign:"center"}},d&&0!==d.length&&d[0].name),C.default.createElement(r.default,{visible:t,width:"60%",onCancel:function(){return e.handleModalVisible()},onOk:this.handleOk},C.default.createElement(i.default,{bordered:!1},C.default.createElement("div",{className:T.default.tableList},C.default.createElement(k.default,{canSelect:!0,selectType:"radio",selectedRowKeys:[d.id],loading:n,rowKey:function(e){return e.id},data:l,columns:this.columns,onSelectRow:this.onSelectRow,onChange:this.handleStandardTableChange})))))}}]),t}(C.PureComponent))||b)||b),x=S;t.default=x},J6SF:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("giR+");var n=l(a("fyUT"));a("2qtc");var r=l(a("kLXV"));a("DZo9");var i=l(a("8z0m"));a("5NDa");var d=l(a("5rEg"));a("miYZ");var u=l(a("tsqr"));a("Pwec");var o=l(a("CtXQ")),s=l(a("MVZn"));a("iQDF");var c=l(a("+eQT"));a("y8nQ");var f=l(a("Vl3Y"));a("OaEy");var p=l(a("2fM7")),m=l(a("q1tI")),h=l(a("wd/R")),v=l(a("rmP6")),y=l(a("8+yx"));a("91UR");var g=l(a("NDsU")),b=p.default.Option,E=f.default.Item,C=c.default.RangePicker,w="YYYY-MM-DD",k={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}},T=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","color","background"],D=f.default.create()(function(e){var t=e.modalVisible,a=e.form,l=e.handleAdd,c=e.handleModalVisible,f=e.fileList,D=e.modalType,V=e.uploadFile,S=e.previewImage,x=e.previewVisible,I=e.handleCancel,L=e.activityDetail,O=e.handlePreview,M=e.handleUpdate,N=e.typeChange,F=e.activityType,R=e.marketingTypeChange,P=e.marketingType,q=function(){a.validateFields(function(e,t){if(!e){a.resetFields();var n=(0,s.default)({},t,{startDate:(0,h.default)(t.date[0]).format(w),endDate:(0,h.default)(t.date[1]).format(w),img:t.img[0].response.result[0]});"COUPON"===F&&(n.validStartDate=(0,h.default)(t.validDate[0]).format(w),n.validEndDate=(0,h.default)(t.validDate[1]).format(w)),"MERCHANT"===P&&(n.shopId="create"===D?t.shopId[0].id:L.shopId),"create"===D&&l(n),"update"===D&&M(n)}})},U=m.default.createElement("div",null,m.default.createElement(o.default,{type:"plus"}),m.default.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20")),A=function(e){var t=e.file.status;return"done"===t&&u.default.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f.")),V(e.fileList),Array.isArray(e)?e:e&&e.fileList};return m.default.createElement(r.default,{width:"70%",destroyOnClose:!0,title:"create"===D?"\u65b0\u5efa\u6d3b\u52a8":"\u7f16\u8f91\u6d3b\u52a8",visible:t,onOk:q,onCancel:function(){return c()},className:g.default.modal},m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u5206\u7c7b"},a.getFieldDecorator("activityType",{initialValue:L.activityType||null,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u5206\u7c7b\uff01"}]})(m.default.createElement(p.default,{disabled:"update"===D,onChange:N,placeholder:"\u8bf7\u9009\u62e9",style:{width:"240px"}},m.default.createElement(b,{value:"PROMOTION"},"\u4fc3\u9500\u6d3b\u52a8"),m.default.createElement(b,{value:"ENROLL"},"\u62a5\u540d\u6d3b\u52a8"),m.default.createElement(b,{value:"COUPON"},"\u5361\u5238\u6d3b\u52a8")))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u72b6\u6001"},a.getFieldDecorator("activityState",{initialValue:L.activityState||"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u72b6\u6001\uff01"}]})(m.default.createElement(p.default,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"240px"}},m.default.createElement(b,{value:"NOTSTART"},"\u672a\u5f00\u59cb"),m.default.createElement(b,{value:"START"},"\u5df2\u5f00\u59cb"),m.default.createElement(b,{value:"END"},"\u5df2\u7ed3\u675f")))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u6807\u9898"},a.getFieldDecorator("title",{initialValue:L.title||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u6807\u9898\uff01"}]})(m.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u5730\u5740"},a.getFieldDecorator("address",{initialValue:L.address||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u5730\u5740\uff01"}]})(m.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),m.default.createElement(E,{className:g.default.richText,labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u5185\u5bb9"},a.getFieldDecorator("content",{initialValue:L.content||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u5185\u5bb9\uff01"}]})(m.default.createElement(v.default,{theme:"snow",modules:k,formats:T}))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u65f6\u95f4"},a.getFieldDecorator("date",{initialValue:L.startDate?[(0,h.default)(L.startDate),(0,h.default)(L.endDate)]:[(0,h.default)(new Date),(0,h.default)(new Date)],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u65f6\u95f4\uff01"}]})(m.default.createElement(C,null))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u56fe\u7247"},a.getFieldDecorator("img",{initialValue:f,valuePropName:"fileList",getValueFromEvent:A,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u6d3b\u52a8\u56fe\u7247"}]})(m.default.createElement(i.default,{name:"multipartFileList",multiple:!1,headers:{Authorization:"Bearer ".concat(localStorage.jwt)},listType:"picture-card",action:"https://788.zz9517.com/api/fastdfs",accept:"image/*",onPreview:O},f.length>=1?null:U)),m.default.createElement(r.default,{visible:x,footer:null,onCancel:I},m.default.createElement("img",{alt:"example",style:{width:"100%"},src:S}))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u7c7b\u578b"},a.getFieldDecorator("marketingType",{initialValue:L.marketingType||"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u7c7b\u578b\uff01"}]})(m.default.createElement(p.default,{disabled:"update"===D,onChange:R,placeholder:"\u8bf7\u9009\u62e9",style:{width:"240px"}},m.default.createElement(b,{disabled:"COUPON"===F,value:"MARKET"},"\u5546\u573a\u6d3b\u52a8"),m.default.createElement(b,{value:"MERCHANT"},"\u5546\u6237\u6d3b\u52a8")))),"MERCHANT"===P&&"create"===D&&m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6d3b\u52a8\u5546\u6237"},a.getFieldDecorator("shopId",{initialValue:L.shopId||"",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6d3b\u52a8\u5546\u6237\uff01"}]})(m.default.createElement(y.default,null))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u987a\u5e8f"},a.getFieldDecorator("position",{initialValue:L.position||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u987a\u5e8f\uff01"}]})(m.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u63cf\u8ff0"},a.getFieldDecorator("memo",{initialValue:L.memo||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6d3b\u52a8\u63cf\u8ff0\uff01"}]})(m.default.createElement(d.default.TextArea,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5916\u90e8\u94fe\u63a5"},a.getFieldDecorator("link",{initialValue:L.link||"",rules:[{required:!1}]})(m.default.createElement(d.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),"COUPON"===F&&m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5355\u8d26\u53f7\u9650\u9886\u6570\u91cf"},a.getFieldDecorator("limitUserCount",{initialValue:L.limitUserCount||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5355\u8d26\u53f7\u9650\u9886\u6570\u91cf\uff01"}]})(m.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),"COUPON"===F&&m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u6240\u9700\u79ef\u5206"},a.getFieldDecorator("point",{initialValue:L.point||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6240\u9700\u79ef\u5206\uff01"}]})(m.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),"COUPON"===F&&m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u603b\u5e93\u5b58"},a.getFieldDecorator("totalStock",{initialValue:L.point||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u603b\u5e93\u5b58\uff01"}]})(m.default.createElement(n.default,{placeholder:"\u8bf7\u8f93\u5165",style:{width:"240px"}}))),"COUPON"===F&&m.default.createElement(E,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5361\u5238\u6709\u6548\u671f"},a.getFieldDecorator("validDate",{initialValue:L.validEndDate?[(0,h.default)(L.validStartDate),(0,h.default)(L.validEndDate)]:[(0,h.default)(new Date),(0,h.default)(new Date)],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5361\u5238\u6709\u6548\u671f\uff01"}]})(m.default.createElement(C,null))))}),V=D;t.default=V},NDsU:function(e,t,a){e.exports={modal:"antd-pro-pages-activity-quill-modal",richText:"antd-pro-pages-activity-quill-richText"}},T4BW:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("q1tI")),r=l(a("CkN6")),i=l(a("3gbU")),d={UNUSED:"\u5f85\u4f7f\u7528",USED:"\u5df2\u4f7f\u7528",EXPIRED:"\u5df2\u8fc7\u671f"},u=function(e){var t=e.data,a=e.loading,l=e.useCoupon,u=[{title:"\u5238\u7801",dataIndex:"code"},{title:"\u5361\u5238\u72b6\u6001",dataIndex:"codeStatus",render:function(e){return d[e]}},{title:"\u9886\u53d6\u4eba\u6635\u79f0",dataIndex:"userNickname",render:function(e){return e||"\u6682\u65e0"}},{title:"\u6709\u6548\u671f",render:function(e,t){return t.validEndDate?"".concat(t.validStartDate,"\u81f3").concat(t.validEndDate):"\u2014\u2014"}},{title:"\u64cd\u4f5c",render:function(e,t){return n.default.createElement("a",{onClick:function(){return l(t)}},"\u6838\u9500")}}];return n.default.createElement("div",{className:i.default.tableList},n.default.createElement(r.default,{loading:a,rowKey:function(e){return e.id},data:t,columns:u}))},o=u;t.default=o},UFQ5:function(e,t,a){e.exports={tableList:"antd-pro-pages-activity-shop-table-tableList",tableListOperator:"antd-pro-pages-activity-shop-table-tableListOperator",tableListForm:"antd-pro-pages-activity-shop-table-tableListForm",submitButtons:"antd-pro-pages-activity-shop-table-submitButtons"}},V6iT:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qVdP");var n=l(a("jsC+")),r=l(a("pVnL"));a("+L6B");var i=l(a("2/Rp"));a("Pwec");var d=l(a("CtXQ")),u=l(a("MVZn"));a("lUTK");var o=l(a("BvKs")),s=l(a("q1tI")),c=(l(a("17x9")),function(e){var t=e.onMenuClick,a=e.menuOptions,l=void 0===a?[]:a,c=e.buttonStyle,f=e.dropdownProps,p=l.map(function(e){return s.default.createElement(o.default.Item,{key:e.key},e.name)});return s.default.createElement(n.default,(0,r.default)({overlay:s.default.createElement(o.default,{onClick:t,style:{textAlign:"center"}},p)},f),s.default.createElement(i.default,{style:(0,u.default)({border:"none"},c)},s.default.createElement(d.default,{style:{marginRight:2},type:"bars"}),s.default.createElement(d.default,{type:"down"})))});c.defaultProps={buttonStyle:{},dropdownProps:{}};var f=c;t.default=f},hORE:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M")),r=l(a("pVnL")),i=l(a("QILm")),d=l(a("q1tI")),u=l(a("wd/R")),o=l(a("CkN6")),s=l(a("3gbU")),c="YYYY-MM-DD HH:mm:ss",f=function(e){var t=e.loading,a=e.data,l=(e.currentItem,(0,i.default)(e,["loading","data","currentItem"])),f=[{title:"\u6635\u79f0",dataIndex:"userNickName"},{title:"\u8054\u7cfb\u65b9\u5f0f",dataIndex:"contractNo",render:function(e){return e||"\u6682\u65e0"}},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"lastModifiedDate",render:function(e){return e?(0,u.default)(e).format(c):"\u6682\u65e0"}}];return d.default.createElement(n.default,{bordered:!1},d.default.createElement("div",{className:s.default.tableList},d.default.createElement(o.default,(0,r.default)({loading:t,data:a,rowKey:function(e){return e.id},columns:f},l))))},p=f;t.default=p}}]);